import{_ as l,M as c,p as d,q as u,R as n,t as s,N as e,V as t,a1 as o}from"./framework-0f934b27.js";const h={},k=n("h1",{id:"package-json",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#package-json","aria-hidden":"true"},"#"),s(" package.json")],-1),m=n("h2",{id:"name",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#name","aria-hidden":"true"},"#"),s(" name")],-1),v=n("code",null,"string",-1),g={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},b=o(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgNameReg <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span>@<span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span>$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="private" tabindex="-1"><a class="header-anchor" href="#private" aria-hidden="true">#</a> private</h2>`,2),_=n("code",null,"boolean",-1),f={href:"https://docs.npmjs.com/cli/v8/commands/npm-publish",target:"_blank",rel:"noopener noreferrer"},q=n("h2",{id:"version",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#version","aria-hidden":"true"},"#"),s(" version")],-1),y=n("code",null,"string",-1),j={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://docs.npmjs.com/cli/v8/commands/npm-version",target:"_blank",rel:"noopener noreferrer"},w=o('<h2 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> description</h2><p><code>string</code> 项目描述</p><h2 id="keywords" tabindex="-1"><a class="header-anchor" href="#keywords" aria-hidden="true">#</a> keywords</h2><p><code>Array&lt;string&gt;</code> 项目关键词, 作用类似于 <a href="#description">description</a></p><h2 id="homepage" tabindex="-1"><a class="header-anchor" href="#homepage" aria-hidden="true">#</a> homepage</h2><p><code>string</code> 项目主页，一般是项目网站或者 GitHub 地址</p><h2 id="repository" tabindex="-1"><a class="header-anchor" href="#repository" aria-hidden="true">#</a> repository</h2><p><code>string | { type: string; url: string }</code> 项目仓库</p><h2 id="bugs" tabindex="-1"><a class="header-anchor" href="#bugs" aria-hidden="true">#</a> bugs</h2><p><code>string | { url: string; email?: string }</code></p>',10),D={href:"https://docs.npmjs.com/cli/v8/commands/npm-bugs",target:"_blank",rel:"noopener noreferrer"},I=n("h2",{id:"licenses",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#licenses","aria-hidden":"true"},"#"),s(" licenses")],-1),C=n("code",null,"string",-1),N=n("li",null,[n("code",null,"string | { type: string; url: string } | Array<{ type: string; url: string }>")],-1),S={href:"https://spdx.org/licenses/",target:"_blank",rel:"noopener noreferrer"},M=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;license&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/ISC&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://www.opensource.org/licenses/mit-license.php&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Apache-2.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/apache2.0.php&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// recommend</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="author-contributors" tabindex="-1"><a class="header-anchor" href="#author-contributors" aria-hidden="true">#</a> author, contributors</h2><p><code>string</code> 作者或贡献者信息</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;donggua &lt;donggua.nor@gmail.com&gt; (https://github.com/donggua-nor)&quot;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;contributors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua.nor@gmail.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;backup&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;309366517@qq.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="packagemanager" tabindex="-1"><a class="header-anchor" href="#packagemanager" aria-hidden="true">#</a> packageManager</h2><p><code>string</code> 指明项目使用的包管理工具</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgManagerReg <span class="token operator">=</span> <span class="token punctuation">(</span>npm<span class="token operator">|</span>pnpm<span class="token operator">|</span>yarn<span class="token punctuation">)</span>@\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="type" tabindex="-1"><a class="header-anchor" href="#type" aria-hidden="true">#</a> type</h2>`,8),P=n("code",null,"'commonjs' | 'module'",-1),R=n("code",null,"Node@14",-1),A={href:"http://localhost:8080/Blog/notes/node/esm.html",target:"_blank",rel:"noopener noreferrer"},T=o('<ul><li><p>默认为 <code>commonjs</code>, 对于 <code>mjs</code> 后缀名文件采用 <code>ESM</code> 语法解析</p></li><li><p>设置为 <code>module</code> 时，对于 <code>cjs</code> 后缀名文件采用 <code>commonjs</code> 语法解析</p></li></ul><h2 id="scripts" tabindex="-1"><a class="header-anchor" href="#scripts" aria-hidden="true">#</a> scripts</h2><p><code>Record&lt;string, string&gt;</code> 带有以下默认生命周期的脚本命令： <code>&lt;pre&gt;</code> | <code>&lt;post&gt;</code></p><ul><li>install</li><li>uninstall</li><li>start</li><li>restart</li><li>stop</li><li>test</li><li>pack</li><li>publish</li><li>自定义脚本命令</li></ul>',4),B=n("code",null,"prepare",-1),O=n("code",null,"prepublishOnly",-1),E={href:"https://docs.npmjs.com/cli/v8/using-npm/scripts",target:"_blank",rel:"noopener noreferrer"},L={class:"custom-container tip"},V=n("p",{class:"custom-container-title"},"TIP",-1),z=n("p",null,[s("在 pnpm@6 与 yarn2 中， "),n("code",null,"preinstall"),s(" 将在 "),n("code",null,"install"),s(" 后执行，而不是在 "),n("code",null,"install"),s(" 之前")],-1),G={href:"https://yarnpkg.com/advanced/lifecycle-scripts",target:"_blank",rel:"noopener noreferrer"},$={href:"https://github.com/pnpm/pnpm/issues/3836",target:"_blank",rel:"noopener noreferrer"},F={href:"https://github.com/pnpm/pnpm/commit/245920f14ee02eb7d8fa0545902a6288a567a5d2",target:"_blank",rel:"noopener noreferrer"},H=n("h2",{id:"bin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bin","aria-hidden":"true"},"#"),s(" bin")],-1),U=n("p",null,[n("code",null,"string | { ${binName}: ${binFilePath} }"),s(" 声明包的脚本文件")],-1),X={href:"https://en.wikipedia.org/wiki/Shebang_(Unix)",target:"_blank",rel:"noopener noreferrer"},J=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"npm"),s(),n("span",{class:"token function"},"install"),s(" demo "),n("span",{class:"token parameter variable"},"-g"),s(`

d
`),n("span",{class:"token comment"},"# log: Npm is COOL"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),K=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Npm is COOL'"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Q=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"name"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"demo"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"bin"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"d"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"./bin/demo.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),W=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"."),s(`
├── bin
│   └── demo.js
└── package.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Y=n("h2",{id:"dependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#dependencies","aria-hidden":"true"},"#"),s(" dependencies")],-1),Z=n("p",null,[n("code",null,"{pkgName<string>: pkgVersion<string>}"),s(" 项目依赖包映射表")],-1),nn={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},sn={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json",target:"_blank",rel:"noopener noreferrer"},en=o("<ul><li><code>^</code>：仅固定 <code>major</code> 大版本，匹配 <code>minor</code>、<code>patch</code> 版本</li><li><code>~</code>：固定 <code>major</code>、<code>minor</code> 版本，仅匹配 <code>patch</code> 补丁版本</li></ul>",1),an={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json/#dependencies",target:"_blank",rel:"noopener noreferrer"},on={href:"https://docs.npmjs.com/cli/v8/commands/npm-link",target:"_blank",rel:"noopener noreferrer"},tn={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#local-paths",target:"_blank",rel:"noopener noreferrer"},pn=o('<h3 id="dependencies-1" tabindex="-1"><a class="header-anchor" href="#dependencies-1" aria-hidden="true">#</a> dependencies</h3><p><code>--save, -S</code> 不区分运行环境等，任何情况都需要安装的依赖项</p><h3 id="devdependencies" tabindex="-1"><a class="header-anchor" href="#devdependencies" aria-hidden="true">#</a> devDependencies</h3><p><code>--save-dev, -D</code> 仅在开发环境安装的依赖项</p><h3 id="peerdependencies" tabindex="-1"><a class="header-anchor" href="#peerdependencies" aria-hidden="true">#</a> peerDependencies</h3><p><code>--save-peer</code> 对等依赖项</p>',6),cn={href:"https://github.com/vuejs/router",target:"_blank",rel:"noopener noreferrer"},rn={href:"https://github.com/vuejs/vuex",target:"_blank",rel:"noopener noreferrer"},ln={href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"},dn=n("code",null,"vue-router",-1),un=n("code",null,"vuex",-1),hn=n("code",null,"vue",-1),kn=n("code",null,"vue",-1),mn=n("code",null,"peerDependencies",-1),vn=o(`<div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><code>&gt;=npm@7</code> 默认安装 <code>peerDependencies</code>， <code>3&lt;npm&lt;=6</code> 用户需要自行管理 <code>peerDependencies</code></li></ul></div><h4 id="peerdependenciesmeta" tabindex="-1"><a class="header-anchor" href="#peerdependenciesmeta" aria-hidden="true">#</a> peerDependenciesMeta</h4><p>当用户安装了该项目但未安装 <a href="#peerDependencies">peerDependencies</a> 时，此字段提供对应的处理声明：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// vue-router</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;peerDependenciesMeta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;optional&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 若使用 \`vue-router\` 时未安装 \`vue\` 依赖，那么将 \`vue\` 视为可选依赖</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="optionaldependencies" tabindex="-1"><a class="header-anchor" href="#optionaldependencies" aria-hidden="true">#</a> optionalDependencies</h3><p><code>--save-optional, -O</code> 可选的依赖项，即使安装此类型依赖失败，也不会影响功能使用 <code>一般由开发者提供兼容处理</code></p>`,6),gn={class:"custom-container tip"},bn=n("p",{class:"custom-container-title"},"TIP",-1),_n={href:"https://github.com/paulmillr/chokidar",target:"_blank",rel:"noopener noreferrer"},fn=n("code",null,"OSX",-1),qn=n("code",null,"fsevents",-1),yn=n("code",null,"Linux",-1),jn=n("code",null,"fsevents",-1),xn=n("ul",null,[n("li",null,[n("p",null,[n("code",null,"npm/pnpm install --no-optional")])]),n("li",null,[n("p",null,[n("code",null,"yarn install --ignore-optional")])])],-1),wn=n("h3",{id:"bundledependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bundledependencies","aria-hidden":"true"},"#"),s(" bundleDependencies")],-1),Dn=n("code",null,"Array<string>",-1),In={href:"https://docs.npmjs.com/cli/v8/commands/npm-pack",target:"_blank",rel:"noopener noreferrer"},Cn=o(`<h2 id="overrides" tabindex="-1"><a class="header-anchor" href="#overrides" aria-hidden="true">#</a> overrides</h2><p><code>Record&lt;string, string&gt;</code> 针对特定依赖项进行按需重写，支持嵌套、限定范围</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token property">&quot;baz&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="types" tabindex="-1"><a class="header-anchor" href="#types" aria-hidden="true">#</a> types</h2><p><code>string =&gt; filePath</code> 声明此项目的 <code>TypeScript</code> 类型文件</p><h2 id="files" tabindex="-1"><a class="header-anchor" href="#files" aria-hidden="true">#</a> files</h2><p><code>Array&lt;string&gt;</code></p><h2 id="main" tabindex="-1"><a class="header-anchor" href="#main" aria-hidden="true">#</a> main</h2><p><code>string</code></p><h2 id="browser" tabindex="-1"><a class="header-anchor" href="#browser" aria-hidden="true">#</a> browser</h2><p><code>string</code></p><h2 id="module" tabindex="-1"><a class="header-anchor" href="#module" aria-hidden="true">#</a> module</h2><p><code>string</code></p><h2 id="exports" tabindex="-1"><a class="header-anchor" href="#exports" aria-hidden="true">#</a> exports</h2><p><code>Record&lt;string, string | Exports&gt;</code></p>`,15),Nn={class:"custom-container tip"},Sn=n("p",{class:"custom-container-title"},"TIP",-1),Mn={href:"https://nodejs.org/api/packages.html?spm=ata.21736010.0.0.3d314bfcjrqivI#packages_package_entry_points",target:"_blank",rel:"noopener noreferrer"},Pn=n("h2",{id:"workspaces",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#workspaces","aria-hidden":"true"},"#"),s(" workspaces")],-1),Rn=n("h2",{id:"config",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#config","aria-hidden":"true"},"#"),s(" config")],-1),An=n("code",null,"Record<string, string>",-1),Tn={href:"https://nodejs.org/api/process.html#processenv",target:"_blank",rel:"noopener noreferrer"},Bn=n("wbr",null,null,-1),On=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_port"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// 8080"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_foo"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// bar"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),En=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"scripts"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"variable"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"node main.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"config"'),n("span",{class:"token operator"},":"),s("　"),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"port"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"8080"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"foo"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"bar"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Ln=n("h2",{id:"publishconfig",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#publishconfig","aria-hidden":"true"},"#"),s(" publishConfig")],-1),Vn=n("code",null,"Record<string, string>",-1),zn={href:"https://docs.npmjs.com/cli/v8/using-npm/config",target:"_blank",rel:"noopener noreferrer"},Gn=o(`<h2 id="engines" tabindex="-1"><a class="header-anchor" href="#engines" aria-hidden="true">#</a> engines</h2><p><code>Record&lt;&#39;node&#39;|&#39;npm&#39;, string&gt;</code> 指明该项目运行的平台</p><ul><li>指明项目所需 <code>node</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=14 &lt;18&quot;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>指明安装包所需 <code>npm</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;npm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~5.2.0&quot;</span> <span class="token comment">// npx version</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="os" tabindex="-1"><a class="header-anchor" href="#os" aria-hidden="true">#</a> os</h2>`,7),$n=n("code",null,"Array<string>",-1),Fn={href:"https://nodejs.org/api/process.html#processplatform",target:"_blank",rel:"noopener noreferrer"},Hn=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu" aria-hidden="true">#</a> cpu</h2>`,2),Un=n("code",null,"Array<string>",-1),Xn={href:"https://nodejs.org/api/process.html#processarch",target:"_blank",rel:"noopener noreferrer"},Jn=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function Kn(Qn,Wn){const a=c("ExternalLinkIcon"),r=c("Badge"),p=c("CodeGroupItem"),i=c("CodeGroup");return d(),u("div",null,[k,m,n("p",null,[v,s(" 项目名称，发布到 "),n("a",g,[s("npm"),e(a)]),s(" 中的唯一标识")]),b,n("p",null,[_,s(" 指明包私有，避免被 "),n("a",f,[s("npm publish"),e(a)]),s(" 发布")]),q,n("p",null,[y,s(" 版本号，遵循 "),n("a",j,[s("语义化版本号"),e(a)]),s("，使用 "),n("a",x,[s("npm version"),e(a)]),s(" 管理")]),w,n("p",null,[s("一般是 issue 地址。存在时可以通过 "),n("a",D,[s("npm bugs"),e(a)]),s(" 打开对应地址")]),I,n("ul",null,[n("li",null,[C,s(),e(r,null,{default:t(()=>[s("recommend")]),_:1})]),N]),n("p",null,[s("参阅 "),n("a",S,[s("https://spdx.org/licenses/"),e(a)])]),M,n("p",null,[P,s(" 表明包使用的模块语法（ "),R,s(" 以上版本支持 "),n("a",A,[s("ESM"),e(a)]),s("）")]),T,n("p",null,[s("特殊的 "),B,s(" 、 "),O,s(" 见 "),n("a",E,[s("scripts 文档"),e(a)])]),n("div",L,[V,z,n("ul",null,[n("li",null,[n("p",null,[n("a",G,[s("yarn2 Lifecycle Scripts"),e(a)])])]),n("li",null,[n("p",null,[n("a",$,[s("preinstall phase is executed after install phase "),e(a)])])])]),n("p",null,[s("为此 pnpm 提供了 "),n("a",F,[s("pnpm:devPreinstall"),e(a)]),s(" 钩子以兼容开发者的使用习惯")])]),H,U,n("p",null,[s("脚本文件一般在文件头以 "),n("a",X,[s("SheBang"),e(a)]),s(" 声明运行脚本的语言")]),e(i,null,{default:t(()=>[e(p,{title:"bash"},{default:t(()=>[J]),_:1}),e(p,{title:"script"},{default:t(()=>[K]),_:1}),e(p,{title:"package.json"},{default:t(()=>[Q]),_:1}),e(p,{title:"directory structure"},{default:t(()=>[W]),_:1})]),_:1}),Y,Z,n("p",null,[s("常见依赖包版本遵循 "),n("a",nn,[s("语义化版本号"),e(a)]),s("，并根据声明语法供 "),n("a",sn,[s("lockfile"),e(a)]),s(" 匹配：")]),en,n("p",null,[s("其余版本范围参阅文档 "),n("a",an,[s("dependencies"),e(a)])]),n("p",null,[s("通过 "),n("a",on,[s("npm link"),e(a)]),s(" 等生成的本地包路径参阅 "),n("a",tn,[s("local-path 文档"),e(a)])]),pn,n("p",null,[s("比如 "),n("a",cn,[s("vue-router"),e(a)]),s(" 或 "),n("a",rn,[s("vuex"),e(a)]),s(" 都是基于 "),n("a",ln,[s("vue@2.x"),e(a)]),s(" 的响应式 API 构建的依赖库（插件），但在构建 "),dn,s(" 、 "),un,s(" 产物时，作者并不想将 "),hn,s(" 包含进去，即可将 "),kn,s(" 声明为 "),mn,s(" .")]),vn,n("div",gn,[bn,n("p",null,[s("比如在使用 "),n("a",_n,[s("chokidar"),e(a)]),s(" 在 "),fn,s(" 系统使用原生的 "),qn,s(" 进行文件监听处理，但在 "),yn,s(" (主要是 mac) 上安装此依赖时经常出现 "),jn,s(" 相关的报错信息。此时可以添加参数忽略此依赖进行安装：")]),xn]),wn,n("p",null,[Dn,s(" 捆绑依赖项，可通过 "),n("a",In,[s("npm pack"),e(a)]),s(" 将声明的捆绑依赖打包进项目压缩包中")]),Cn,n("div",Nn,[Sn,n("p",null,[n("a",Mn,[s("Package entry points"),e(a)])])]),Pn,Rn,n("p",null,[An,s(),n("a",Tn,[s("p"),Bn,s("rocess.env"),e(a)]),s(" 配置命令行的环境变量")]),e(i,null,{default:t(()=>[e(p,{title:"main.js"},{default:t(()=>[On]),_:1}),e(p,{title:"package.json"},{default:t(()=>[En]),_:1})]),_:1}),Ln,n("p",null,[Vn,s(" 发布配置，详见"),n("a",zn,[s("config | npm Docs"),e(a)])]),Gn,n("p",null,[$n,s(" 基于 "),n("a",Fn,[s("process.platform"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),Hn,n("p",null,[Un,s(" 基于 "),n("a",Xn,[s("process.arch"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),Jn])}const Zn=l(h,[["render",Kn],["__file","pkg.html.vue"]]);export{Zn as default};
