import{_ as r,M as c,p as u,q as d,R as n,t as s,N as e,V as t,a1 as o}from"./framework-e93b08cb.js";const k={},m=n("h1",{id:"package-json",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#package-json","aria-hidden":"true"},"#"),s(" package.json")],-1),h=n("h2",{id:"name",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#name","aria-hidden":"true"},"#"),s(" name")],-1),v=n("code",null,"string",-1),g={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},b=o(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgNameReg <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span>@<span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span>$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="private" tabindex="-1"><a class="header-anchor" href="#private" aria-hidden="true">#</a> private</h2>`,2),_=n("code",null,"boolean",-1),f={href:"https://docs.npmjs.com/cli/v8/commands/npm-publish",target:"_blank",rel:"noopener noreferrer"},q=n("h2",{id:"version",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#version","aria-hidden":"true"},"#"),s(" version")],-1),j=n("code",null,"string",-1),y={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://docs.npmjs.com/cli/v8/commands/npm-version",target:"_blank",rel:"noopener noreferrer"},w=o('<h2 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> description</h2><p><code>string</code> 项目描述</p><h2 id="keywords" tabindex="-1"><a class="header-anchor" href="#keywords" aria-hidden="true">#</a> keywords</h2><p><code>Array&lt;string&gt;</code> 项目关键词, 作用类似于 <a href="#description">description</a></p><h2 id="homepage" tabindex="-1"><a class="header-anchor" href="#homepage" aria-hidden="true">#</a> homepage</h2><p><code>string</code> 项目主页，一般是项目网站或者 GitHub 地址</p><h2 id="repository" tabindex="-1"><a class="header-anchor" href="#repository" aria-hidden="true">#</a> repository</h2><p><code>string | { type: string; url: string }</code> 项目仓库</p><h2 id="bugs" tabindex="-1"><a class="header-anchor" href="#bugs" aria-hidden="true">#</a> bugs</h2><p><code>string | { url: string; email?: string }</code></p>',10),D={href:"https://docs.npmjs.com/cli/v8/commands/npm-bugs",target:"_blank",rel:"noopener noreferrer"},S=n("h2",{id:"licenses",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#licenses","aria-hidden":"true"},"#"),s(" licenses")],-1),I=n("code",null,"string",-1),C=n("li",null,[n("code",null,"string | { type: string; url: string } | Array<{ type: string; url: string }>")],-1),N={href:"https://spdx.org/licenses/",target:"_blank",rel:"noopener noreferrer"},P=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;license&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/ISC&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://www.opensource.org/licenses/mit-license.php&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Apache-2.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/apache2.0.php&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// recommend</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="author-contributors" tabindex="-1"><a class="header-anchor" href="#author-contributors" aria-hidden="true">#</a> author, contributors</h2><p><code>string</code> 作者或贡献者信息</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;donggua &lt;donggua.nor@gmail.com&gt; (https://github.com/donggua-nor)&quot;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;contributors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua.nor@gmail.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;backup&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;309366517@qq.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="packagemanager" tabindex="-1"><a class="header-anchor" href="#packagemanager" aria-hidden="true">#</a> packageManager</h2><p><code>string</code> 指明项目使用的包管理工具</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgManagerReg <span class="token operator">=</span> <span class="token punctuation">(</span>npm<span class="token operator">|</span>pnpm<span class="token operator">|</span>yarn<span class="token punctuation">)</span>@\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="type" tabindex="-1"><a class="header-anchor" href="#type" aria-hidden="true">#</a> type</h2>`,8),T=n("code",null,"'commonjs' | 'module'",-1),M=n("code",null,"Node@14",-1),R={href:"http://localhost:8080/Blog/notes/node/esm.html",target:"_blank",rel:"noopener noreferrer"},A=o('<ul><li><p>默认为 <code>commonjs</code>, 对于 <code>mjs</code> 后缀名文件采用 <code>ESM</code> 语法解析</p></li><li><p>设置为 <code>module</code> 时，对于 <code>cjs</code> 后缀名文件采用 <code>commonjs</code> 语法解析</p></li></ul><h2 id="scripts" tabindex="-1"><a class="header-anchor" href="#scripts" aria-hidden="true">#</a> scripts</h2><p><code>Record&lt;string, string&gt;</code> 带有以下默认生命周期的脚本命令： <code>&lt;pre&gt;</code> | <code>&lt;post&gt;</code></p><ul><li>install</li><li>uninstall</li><li>start</li><li>restart</li><li>stop</li><li>test</li><li>pack</li><li>publish</li><li>自定义脚本命令</li></ul>',4),E=n("code",null,"prepare",-1),B=n("code",null,"prepublishOnly",-1),O={href:"https://docs.npmjs.com/cli/v8/using-npm/scripts",target:"_blank",rel:"noopener noreferrer"},V={class:"custom-container tip"},z=n("p",{class:"custom-container-title"},"TIP",-1),L=n("p",null,[s("在 pnpm@6 与 yarn2 中， "),n("code",null,"preinstall"),s(" 将在 "),n("code",null,"install"),s(" 后执行，而不是在 "),n("code",null,"install"),s(" 之前")],-1),G={href:"https://yarnpkg.com/advanced/lifecycle-scripts",target:"_blank",rel:"noopener noreferrer"},$={href:"https://github.com/pnpm/pnpm/issues/3836",target:"_blank",rel:"noopener noreferrer"},F={href:"https://github.com/pnpm/pnpm/commit/245920f14ee02eb7d8fa0545902a6288a567a5d2",target:"_blank",rel:"noopener noreferrer"},H=n("h2",{id:"bin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bin","aria-hidden":"true"},"#"),s(" bin")],-1),J=n("p",null,[n("code",null,"string | { ${binName}: ${binFilePath} }"),s(" 声明包的脚本文件")],-1),U={href:"https://en.wikipedia.org/wiki/Shebang_(Unix)",target:"_blank",rel:"noopener noreferrer"},W=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"npm"),s(),n("span",{class:"token function"},"install"),s(" demo "),n("span",{class:"token parameter variable"},"-g"),s(`

d
`),n("span",{class:"token comment"},"# log: Npm is COOL"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),X=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Npm is COOL'"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),K=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"name"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"demo"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"bin"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"d"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"./bin/demo.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Q=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"."),s(`
├── bin
│   └── demo.js
└── package.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Y=n("h2",{id:"dependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#dependencies","aria-hidden":"true"},"#"),s(" dependencies")],-1),Z=n("p",null,[n("code",null,"{pkgName<string>: pkgVersion<string>}"),s(" 项目依赖包映射表")],-1),nn={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},sn={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json",target:"_blank",rel:"noopener noreferrer"},en=o("<ul><li><code>^</code>：仅固定 <code>major</code> 大版本，匹配 <code>minor</code>、<code>patch</code> 版本</li><li><code>~</code>：固定 <code>major</code>、<code>minor</code> 版本，仅匹配 <code>patch</code> 补丁版本</li></ul>",1),an={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json/#dependencies",target:"_blank",rel:"noopener noreferrer"},on={href:"https://docs.npmjs.com/cli/v8/commands/npm-link",target:"_blank",rel:"noopener noreferrer"},tn={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#local-paths",target:"_blank",rel:"noopener noreferrer"},pn=o('<h3 id="dependencies-1" tabindex="-1"><a class="header-anchor" href="#dependencies-1" aria-hidden="true">#</a> dependencies</h3><p><code>--save, -S</code> 不区分运行环境等，任何情况都需要安装的依赖项</p><h3 id="devdependencies" tabindex="-1"><a class="header-anchor" href="#devdependencies" aria-hidden="true">#</a> devDependencies</h3><p><code>--save-dev, -D</code> 仅在开发环境安装的依赖项</p><h3 id="peerdependencies" tabindex="-1"><a class="header-anchor" href="#peerdependencies" aria-hidden="true">#</a> peerDependencies</h3><p><code>--save-peer</code> 对等依赖项</p>',6),cn={href:"https://github.com/vuejs/router",target:"_blank",rel:"noopener noreferrer"},ln={href:"https://github.com/vuejs/vuex",target:"_blank",rel:"noopener noreferrer"},rn={href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"},un=n("code",null,"vue-router",-1),dn=n("code",null,"vuex",-1),kn=n("code",null,"vue",-1),mn=n("code",null,"vue",-1),hn=n("code",null,"peerDependencies",-1),vn=o(`<div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><code>&gt;=npm@7</code> 默认安装 <code>peerDependencies</code>， <code>3&lt;npm&lt;=6</code> 用户需要自行管理 <code>peerDependencies</code></li></ul></div><h4 id="peerdependenciesmeta" tabindex="-1"><a class="header-anchor" href="#peerdependenciesmeta" aria-hidden="true">#</a> peerDependenciesMeta</h4><p>当用户安装了该项目但未安装 <a href="#peerDependencies">peerDependencies</a> 时，此字段提供对应的处理声明：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// vue-router</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;peerDependenciesMeta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;optional&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 若使用 \`vue-router\` 时未安装 \`vue\` 依赖，那么将 \`vue\` 视为可选依赖</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="optionaldependencies" tabindex="-1"><a class="header-anchor" href="#optionaldependencies" aria-hidden="true">#</a> optionalDependencies</h3><p><code>--save-optional, -O</code> 可选的依赖项，即使安装此类型依赖失败，也不会影响功能使用 <code>一般由开发者提供兼容处理</code></p>`,6),gn={class:"custom-container tip"},bn=n("p",{class:"custom-container-title"},"TIP",-1),_n={href:"https://github.com/paulmillr/chokidar",target:"_blank",rel:"noopener noreferrer"},fn=n("code",null,"OSX",-1),qn=n("code",null,"fsevents",-1),jn=n("code",null,"Linux",-1),yn=n("code",null,"fsevents",-1),xn=n("ul",null,[n("li",null,[n("p",null,[n("code",null,"npm/pnpm install --no-optional")])]),n("li",null,[n("p",null,[n("code",null,"yarn install --ignore-optional")])])],-1),wn=n("h3",{id:"bundledependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bundledependencies","aria-hidden":"true"},"#"),s(" bundleDependencies")],-1),Dn=n("code",null,"Array<string>",-1),Sn={href:"https://docs.npmjs.com/cli/v8/commands/npm-pack",target:"_blank",rel:"noopener noreferrer"},In=o(`<h2 id="overrides" tabindex="-1"><a class="header-anchor" href="#overrides" aria-hidden="true">#</a> overrides</h2><p><code>Record&lt;string, string&gt;</code> 针对特定依赖项进行按需重写，支持嵌套、限定范围</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token property">&quot;baz&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="types" tabindex="-1"><a class="header-anchor" href="#types" aria-hidden="true">#</a> types</h2><p><code>string =&gt; filePath</code> 声明此项目的 <code>TypeScript</code> 类型文件</p><h2 id="files" tabindex="-1"><a class="header-anchor" href="#files" aria-hidden="true">#</a> files</h2><p><code>Array&lt;string&gt;</code> 指明将此项目作为依赖包安装时包含的文件，默认为排除以下文件的全部内容：</p><ul><li><code>.git</code></li><li><code>CVS</code></li><li><code>.svn</code></li><li><code>.hg</code></li><li><code>.lock-wscript</code></li><li><code>.wafpickle-N</code></li><li><code>.*.swp</code></li><li><code>.DS_Store</code></li><li><code>._*</code></li><li><code>npm-debug.log</code></li><li><code>.npmrc</code></li><li><code>node_modules</code></li><li><code>config.gypi</code></li><li><code>*.orig</code></li><li><code>package.json</code> / <code>npm-shrinkwrap.json</code></li></ul>`,8),Cn={class:"custom-container tip"},Nn=o('<p class="custom-container-title">TIP</p><p>与 <code>files</code> 字段作用类似的还有 <code>.npmignore</code> 、 <code>.gitignore</code></p><p>但 <code>files</code> 类似于白名单，往往产物内容更少更方便。而 <code>ignore</code> 文件类似于黑名单，需要开发者持续维护</p>',3),Pn={href:"https://docs.npmjs.com/cli/v9/using-npm/developers#keeping-files-out-of-your-package",target:"_blank",rel:"noopener noreferrer"},Tn={href:"https://medium.com/@jdxcode/for-the-love-of-god-dont-use-npmignore-f93c08909d8d",target:"_blank",rel:"noopener noreferrer"},Mn=n("h2",{id:"main",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#main","aria-hidden":"true"},"#"),s(" main")],-1),Rn=n("p",null,[n("code",null,"string"),s(" 标准化的工具包主入口")],-1),An=n("code",null,"index.js",-1),En=n("code",null,"Node.js",-1),Bn={href:"/notes/node/cjs.html",target:"_blank",rel:"noopener noreferrer"},On=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'foo'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},'// => from "main" field'),s(`
`),n("span",{class:"token comment"},"// foo => { value: 1 }"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Vn=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// foo.cjs"),s(`
module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"value"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),zn=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token comment"},"// package.json"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"main"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"./foo.cjs"'),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Ln=o(`<h2 id="browser" tabindex="-1"><a class="header-anchor" href="#browser" aria-hidden="true">#</a> browser</h2><p><code>string</code> 工具包主入口</p><p>当项目仅服务于浏览器端，则应采用此字段代替 <a href="#main">main</a> 字段</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),Gn={class:"custom-container tip"},$n=n("p",{class:"custom-container-title"},"TIP",-1),Fn={href:"https://github.com/defunctzombie/package-browser-field-spec",target:"_blank",rel:"noopener noreferrer"},Hn=n("h2",{id:"module",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#module","aria-hidden":"true"},"#"),s(" module")],-1),Jn=n("p",null,[n("code",null,"string"),s(" 工具包主入口")],-1),Un={href:"https://webpack.js.org/guides/author-libraries/#final-steps",target:"_blank",rel:"noopener noreferrer"},Wn={href:"https://github.com/rollup/rollup/wiki/pkg.module",target:"_blank",rel:"noopener noreferrer"},Xn={href:"/notes/node/esm.html",target:"_blank",rel:"noopener noreferrer"},Kn={class:"custom-container tip"},Qn=n("p",{class:"custom-container-title"},"TIP",-1),Yn={href:"https://stackoverflow.com/questions/42708484/what-is-the-module-package-json-field-for",target:"_blank",rel:"noopener noreferrer"},Zn=n("h2",{id:"exports",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#exports","aria-hidden":"true"},"#"),s(" exports")],-1),ns=n("code",null,"Record<string, string | Exports>",-1),ss=o(`<p>为工具包主入口及其语义版本升级提供了更可靠的保证，支持多模块、多环境、子路径等定义形式。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;node-addons&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// for C++ plugins</span>
      <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo-node.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Node.js environment，一般不需要</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.mjs&quot;</span><span class="token punctuation">,</span> <span class="token comment">// for import/import()</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.cjs&quot;</span><span class="token punctuation">,</span> <span class="token comment">// for require()</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token comment">// 兜底</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 子模块路径 foo/bar.js</span>
    <span class="token property">&quot;./bar.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bar.mjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bar.cjs&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// for TypeScript</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// for browser</span>
    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// for deno</span>
    <span class="token property">&quot;deno&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// dev environment</span>
    <span class="token property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// prod environment</span>
    <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),es={class:"custom-container tip"},as=o(`<p class="custom-container-title">TIP</p><ul><li>优先使用 <code>exports</code> 并配合 <code>main</code> 等字段做兼容配置</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.cjs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.mjs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.umd.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.d.ts&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.mjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.cjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.umd.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo.d.ts&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),os={href:"http://nodejs.cn/api/packages.html#dual-commonjses-module-packages",target:"_blank",rel:"noopener noreferrer"},ts={href:"https://nodejs.org/api/packages.html?spm=ata.21736010.0.0.3d314bfcjrqivI#packages_package_entry_points",target:"_blank",rel:"noopener noreferrer"},ps=n("h2",{id:"workspaces",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#workspaces","aria-hidden":"true"},"#"),s(" workspaces")],-1),cs=n("code",null,"Array<string>",-1),ls=n("em",null,"monorepo",-1),is={href:"https://docs.npmjs.com/cli/v8/using-npm/workspaces",target:"_blank",rel:"noopener noreferrer"},rs=n("h2",{id:"config",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#config","aria-hidden":"true"},"#"),s(" config")],-1),us=n("code",null,"Record<string, string>",-1),ds={href:"https://nodejs.org/api/process.html#processenv",target:"_blank",rel:"noopener noreferrer"},ks=n("wbr",null,null,-1),ms=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_port"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// 8080"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_foo"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// bar"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),hs=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"scripts"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"variable"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"node main.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"config"'),n("span",{class:"token operator"},":"),s("　"),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"port"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"8080"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"foo"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"bar"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),vs=n("h2",{id:"publishconfig",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#publishconfig","aria-hidden":"true"},"#"),s(" publishConfig")],-1),gs=n("code",null,"Record<string, string>",-1),bs={href:"https://docs.npmjs.com/cli/v8/using-npm/config",target:"_blank",rel:"noopener noreferrer"},_s=o(`<h2 id="engines" tabindex="-1"><a class="header-anchor" href="#engines" aria-hidden="true">#</a> engines</h2><p><code>Record&lt;&#39;node&#39;|&#39;npm&#39;, string&gt;</code> 指明该项目运行的平台</p><ul><li>指明项目所需 <code>node</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=14 &lt;18&quot;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>指明安装包所需 <code>npm</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;npm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~5.2.0&quot;</span> <span class="token comment">// npx version</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="os" tabindex="-1"><a class="header-anchor" href="#os" aria-hidden="true">#</a> os</h2>`,7),fs=n("code",null,"Array<string>",-1),qs={href:"https://nodejs.org/api/process.html#processplatform",target:"_blank",rel:"noopener noreferrer"},js=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu" aria-hidden="true">#</a> cpu</h2>`,2),ys=n("code",null,"Array<string>",-1),xs={href:"https://nodejs.org/api/process.html#processarch",target:"_blank",rel:"noopener noreferrer"},ws=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function Ds(Ss,Is){const a=c("ExternalLinkIcon"),i=c("Badge"),p=c("CodeGroupItem"),l=c("CodeGroup");return u(),d("div",null,[m,h,n("p",null,[v,s(" 项目名称，发布到 "),n("a",g,[s("npm"),e(a)]),s(" 中的唯一标识")]),b,n("p",null,[_,s(" 指明包私有，避免被 "),n("a",f,[s("npm publish"),e(a)]),s(" 发布")]),q,n("p",null,[j,s(" 版本号，遵循 "),n("a",y,[s("语义化版本号"),e(a)]),s("，使用 "),n("a",x,[s("npm version"),e(a)]),s(" 管理")]),w,n("p",null,[s("一般是 issue 地址。存在时可以通过 "),n("a",D,[s("npm bugs"),e(a)]),s(" 打开对应地址")]),S,n("ul",null,[n("li",null,[I,s(),e(i,null,{default:t(()=>[s("recommend")]),_:1})]),C]),n("p",null,[s("详见 "),n("a",N,[s("https://spdx.org/licenses/"),e(a)])]),P,n("p",null,[T,s(" 表明包使用的模块语法（ "),M,s(" 以上版本支持 "),n("a",R,[s("ESM"),e(a)]),s("）")]),A,n("p",null,[s("特殊的 "),E,s(" 、 "),B,s(" 见 "),n("a",O,[s("scripts 文档"),e(a)])]),n("div",V,[z,L,n("ul",null,[n("li",null,[n("p",null,[n("a",G,[s("yarn2 Lifecycle Scripts"),e(a)])])]),n("li",null,[n("p",null,[n("a",$,[s("preinstall phase is executed after install phase "),e(a)])])])]),n("p",null,[s("为此 pnpm 提供了 "),n("a",F,[s("pnpm:devPreinstall"),e(a)]),s(" 钩子以兼容开发者的使用习惯")])]),H,J,n("p",null,[s("脚本文件一般在文件头以 "),n("a",U,[s("SheBang"),e(a)]),s(" 声明运行脚本的语言")]),e(l,null,{default:t(()=>[e(p,{title:"bash"},{default:t(()=>[W]),_:1}),e(p,{title:"script"},{default:t(()=>[X]),_:1}),e(p,{title:"package.json"},{default:t(()=>[K]),_:1}),e(p,{title:"directory structure"},{default:t(()=>[Q]),_:1})]),_:1}),Y,Z,n("p",null,[s("常见依赖包版本遵循 "),n("a",nn,[s("语义化版本号"),e(a)]),s("，并根据声明语法供 "),n("a",sn,[s("lockfile"),e(a)]),s(" 匹配：")]),en,n("p",null,[s("其余版本范围详见文档 "),n("a",an,[s("dependencies"),e(a)])]),n("p",null,[s("通过 "),n("a",on,[s("npm link"),e(a)]),s(" 等生成的本地包路径详见 "),n("a",tn,[s("local-path 文档"),e(a)])]),pn,n("p",null,[s("比如 "),n("a",cn,[s("vue-router"),e(a)]),s(" 或 "),n("a",ln,[s("vuex"),e(a)]),s(" 都是基于 "),n("a",rn,[s("vue@2.x"),e(a)]),s(" 的响应式 API 构建的依赖库（插件），但在构建 "),un,s(" 、 "),dn,s(" 产物时，作者并不想将 "),kn,s(" 包含进去，即可将 "),mn,s(" 声明为 "),hn,s(" .")]),vn,n("div",gn,[bn,n("p",null,[s("比如在使用 "),n("a",_n,[s("chokidar"),e(a)]),s(" 在 "),fn,s(" 系统使用原生的 "),qn,s(" 进行文件监听处理，但在 "),jn,s(" (主要是 mac) 上安装此依赖时经常出现 "),yn,s(" 相关的报错信息。此时可以添加参数忽略此依赖进行安装：")]),xn]),wn,n("p",null,[Dn,s(" 捆绑依赖项，可通过 "),n("a",Sn,[s("npm pack"),e(a)]),s(" 将声明的捆绑依赖打包进项目压缩包中")]),In,n("div",Cn,[Nn,n("ul",null,[n("li",null,[n("a",Pn,[s("npm | Docs"),e(a)])]),n("li",null,[n("a",Tn,[s("For the love of god, don’t use .npmignore"),e(a)])])])]),Mn,Rn,n("p",null,[s("默认为 "),An,s(" ，主要用于 "),En,s(" 的 "),n("a",Bn,[s("cjs"),e(a)]),s(" 模块")]),e(l,null,{default:t(()=>[e(p,{title:"app"},{default:t(()=>[On]),_:1}),e(p,{title:"dep"},{default:t(()=>[Vn,zn]),_:1})]),_:1}),Ln,n("div",Gn,[$n,n("p",null,[s("参阅 "),n("a",Fn,[s("package-browser-field-spec"),e(a)])])]),Hn,Jn,n("p",null,[s("非官方支持的字段，基本上是 "),n("a",Un,[s("Webpack"),e(a)]),s("、"),n("a",Wn,[s("Rollup"),e(a)]),s(" 等打包工具为支持 "),n("a",Xn,[s("ES Module"),e(a)]),s(" 而约定的字段")]),n("div",Kn,[Qn,n("p",null,[s("参阅 "),n("a",Yn,[s("what-is-the-module-package-json-field-for | stackoverflow"),e(a)])])]),Zn,n("p",null,[ns,s(" 最新标准的导出接口 "),e(i,null,{default:t(()=>[s("recommend")]),_:1})]),ss,n("div",es,[as,n("ul",null,[n("li",null,[n("p",null,[s("注意多模块条件导出处理　"),n("a",os,[s("Dual CommonJS/ES module packages"),e(a)])])]),n("li",null,[n("p",null,[s("参阅　"),n("a",ts,[s("Package entry points"),e(a)])])])])]),ps,n("p",null,[cs,s(" 声明多包项目 "),ls,s(" 的子包路径 详见 "),n("a",is,[s("workspaces | npm Docs"),e(a)])]),rs,n("p",null,[us,s(),n("a",ds,[s("p"),ks,s("rocess.env"),e(a)]),s(" 配置命令行的环境变量")]),e(l,null,{default:t(()=>[e(p,{title:"main.js"},{default:t(()=>[ms]),_:1}),e(p,{title:"package.json"},{default:t(()=>[hs]),_:1})]),_:1}),vs,n("p",null,[gs,s(" 发布配置，详见"),n("a",bs,[s("config | npm Docs"),e(a)])]),_s,n("p",null,[fs,s(" 基于 "),n("a",qs,[s("process.platform"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),js,n("p",null,[ys,s(" 基于 "),n("a",xs,[s("process.arch"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),ws])}const Ns=r(k,[["render",Ds],["__file","pkg.html.vue"]]);export{Ns as default};
