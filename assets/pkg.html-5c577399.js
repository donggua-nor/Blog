import{_ as l,M as i,p as d,q as u,R as n,t as s,N as e,V as t,a1 as o}from"./framework-0f934b27.js";const h={},k=n("h1",{id:"package-json",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#package-json","aria-hidden":"true"},"#"),s(" package.json")],-1),m=n("h2",{id:"name",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#name","aria-hidden":"true"},"#"),s(" name")],-1),v={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},b=o(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgNameReg <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span>@<span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">*</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token punctuation">.</span>_<span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">*</span>$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="private" tabindex="-1"><a class="header-anchor" href="#private" aria-hidden="true">#</a> private</h2>`,2),g=n("code",null,"boolean",-1),_={href:"https://docs.npmjs.com/cli/v8/commands/npm-publish",target:"_blank",rel:"noopener noreferrer"},f=n("h2",{id:"version",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#version","aria-hidden":"true"},"#"),s(" version")],-1),q={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},y={href:"https://docs.npmjs.com/cli/v8/commands/npm-version",target:"_blank",rel:"noopener noreferrer"},j=o('<h2 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> description</h2><p>项目描述</p><h2 id="keywords" tabindex="-1"><a class="header-anchor" href="#keywords" aria-hidden="true">#</a> keywords</h2><p><code>Array&lt;string&gt;</code> 项目关键词, 作用类似于 <a href="#description">description</a></p><h2 id="homepage" tabindex="-1"><a class="header-anchor" href="#homepage" aria-hidden="true">#</a> homepage</h2><p>项目主页，一般是项目网站或者 GitHub 地址</p><h2 id="repository" tabindex="-1"><a class="header-anchor" href="#repository" aria-hidden="true">#</a> repository</h2><p><code>string | { type: string; url: string }</code> 项目仓库</p><h2 id="bugs" tabindex="-1"><a class="header-anchor" href="#bugs" aria-hidden="true">#</a> bugs</h2><p><code>string | { url: string; email?: string }</code></p>',10),x={href:"https://docs.npmjs.com/cli/v8/commands/npm-bugs",target:"_blank",rel:"noopener noreferrer"},w=n("h2",{id:"licenses",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#licenses","aria-hidden":"true"},"#"),s(" licenses")],-1),D=n("code",null,"string",-1),I=n("li",null,[n("code",null,"string | { type: string; url: string } | Array<{ type: string; url: string }>")],-1),C={href:"https://spdx.org/licenses/",target:"_blank",rel:"noopener noreferrer"},N=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;license&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/ISC&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://www.opensource.org/licenses/mit-license.php&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Apache-2.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://opensource.org/licenses/apache2.0.php&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// recommend</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;licenses&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="author-contributors" tabindex="-1"><a class="header-anchor" href="#author-contributors" aria-hidden="true">#</a> author, contributors</h2><p>作者或贡献者信息</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;donggua &lt;donggua.nor@gmail.com&gt; (https://github.com/donggua-nor)&quot;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;contributors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;donggua.nor@gmail.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;backup&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;309366517@qq.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://github.com/donggua-nor&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="packagemanager" tabindex="-1"><a class="header-anchor" href="#packagemanager" aria-hidden="true">#</a> packageManager</h2><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> pkgManagerReg <span class="token operator">=</span> <span class="token punctuation">(</span>npm<span class="token operator">|</span>pnpm<span class="token operator">|</span>yarn<span class="token punctuation">)</span>@\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="type" tabindex="-1"><a class="header-anchor" href="#type" aria-hidden="true">#</a> type</h2>`,7),S=n("code",null,"commonjs | module",-1),M=n("code",null,"Node@14",-1),P={href:"http://localhost:8080/Blog/notes/node/esm.html",target:"_blank",rel:"noopener noreferrer"},T=o('<ul><li><p>默认为 <code>commonjs</code>, 对于 <code>mjs</code> 后缀名文件采用 <code>ESM</code> 语法解析</p></li><li><p>设置为 <code>module</code> 时，对于 <code>cjs</code> 后缀名文件采用 <code>commonjs</code> 语法解析</p></li></ul><h2 id="scripts" tabindex="-1"><a class="header-anchor" href="#scripts" aria-hidden="true">#</a> scripts</h2><p><code>Record&lt;string, string&gt;</code> 带有以下默认生命周期的脚本命令： <code>&lt;pre&gt;</code> | <code>&lt;post&gt;</code></p><ul><li>install</li><li>uninstall</li><li>start</li><li>restart</li><li>stop</li><li>test</li><li>pack</li><li>publish</li><li>自定义脚本命令</li></ul>',4),A=n("code",null,"prepare",-1),B=n("code",null,"prepublishOnly",-1),O={href:"https://docs.npmjs.com/cli/v8/using-npm/scripts",target:"_blank",rel:"noopener noreferrer"},L={class:"custom-container tip"},V=n("p",{class:"custom-container-title"},"TIP",-1),z=n("p",null,[s("在 pnpm@6 与 yarn2 中， "),n("code",null,"preinstall"),s(" 将在 "),n("code",null,"install"),s(" 后执行，而不是在 "),n("code",null,"install"),s(" 之前")],-1),E={href:"https://yarnpkg.com/advanced/lifecycle-scripts",target:"_blank",rel:"noopener noreferrer"},G={href:"https://github.com/pnpm/pnpm/issues/3836",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/pnpm/pnpm/commit/245920f14ee02eb7d8fa0545902a6288a567a5d2",target:"_blank",rel:"noopener noreferrer"},$=n("h2",{id:"bin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bin","aria-hidden":"true"},"#"),s(" bin")],-1),F=n("p",null,[n("code",null,"string | { ${binName}: ${binFilePath} }"),s(" 声明包的脚本文件")],-1),H={href:"https://en.wikipedia.org/wiki/Shebang_(Unix)",target:"_blank",rel:"noopener noreferrer"},U=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"npm"),s(),n("span",{class:"token function"},"install"),s(" demo "),n("span",{class:"token parameter variable"},"-g"),s(`

d
`),n("span",{class:"token comment"},"# log: Npm is COOL"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),X=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Npm is COOL'"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),J=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"name"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"demo"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"bin"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"d"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"./bin/demo.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),K=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"."),s(`
├── bin
│   └── demo.js
└── package.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Q=n("h2",{id:"dependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#dependencies","aria-hidden":"true"},"#"),s(" dependencies")],-1),W=n("p",null,[n("code",null,"{pkgName<string>: pkgVersion<string>}"),s(" 项目依赖包映射表")],-1),Y={href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json",target:"_blank",rel:"noopener noreferrer"},nn=o("<ul><li><code>^</code>：仅固定 <code>major</code> 大版本，匹配 <code>minor</code>、<code>patch</code> 版本</li><li><code>~</code>：固定 <code>major</code>、<code>minor</code> 版本，仅匹配 <code>patch</code> 补丁版本</li></ul>",1),sn={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json/#dependencies",target:"_blank",rel:"noopener noreferrer"},en={href:"https://docs.npmjs.com/cli/v8/commands/npm-link",target:"_blank",rel:"noopener noreferrer"},an={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#local-paths",target:"_blank",rel:"noopener noreferrer"},on=o('<h3 id="dependencies-1" tabindex="-1"><a class="header-anchor" href="#dependencies-1" aria-hidden="true">#</a> dependencies</h3><p><code>--save, -S</code> 不区分运行环境等，任何情况都需要安装的依赖项</p><h3 id="devdependencies" tabindex="-1"><a class="header-anchor" href="#devdependencies" aria-hidden="true">#</a> devDependencies</h3><p><code>--save-dev, -D</code> 仅在开发环境安装的依赖项</p><h3 id="peerdependencies" tabindex="-1"><a class="header-anchor" href="#peerdependencies" aria-hidden="true">#</a> peerDependencies</h3><p><code>--save-peer</code> 对等依赖项</p>',6),tn={href:"https://github.com/vuejs/router",target:"_blank",rel:"noopener noreferrer"},pn={href:"https://github.com/vuejs/vuex",target:"_blank",rel:"noopener noreferrer"},rn={href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"},cn=n("code",null,"vue-router",-1),ln=n("code",null,"vuex",-1),dn=n("code",null,"vue",-1),un=n("code",null,"vue",-1),hn=n("code",null,"peerDependencies",-1),kn=o(`<div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><code>&gt;=npm@7</code> 默认安装 <code>peerDependencies</code>， <code>3&lt;npm&lt;=6</code> 用户需要自行管理 <code>peerDependencies</code></li></ul></div><h4 id="peerdependenciesmeta" tabindex="-1"><a class="header-anchor" href="#peerdependenciesmeta" aria-hidden="true">#</a> peerDependenciesMeta</h4><p>当用户安装了该项目但未安装 <a href="#peerDependencies">peerDependencies</a> 时，此字段提供对应的处理声明：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// vue-router</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;peerDependenciesMeta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;optional&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 若使用 \`vue-router\` 时未安装 \`vue\` 依赖，那么将 \`vue\` 视为可选依赖</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="optionaldependencies" tabindex="-1"><a class="header-anchor" href="#optionaldependencies" aria-hidden="true">#</a> optionalDependencies</h3><p><code>--save-optional, -O</code> 可选的依赖项，即使安装此类型依赖失败，也不会影响功能使用 <code>一般由开发者提供兼容处理</code></p>`,6),mn={class:"custom-container tip"},vn=n("p",{class:"custom-container-title"},"TIP",-1),bn={href:"https://github.com/paulmillr/chokidar",target:"_blank",rel:"noopener noreferrer"},gn=n("code",null,"OSX",-1),_n=n("code",null,"fsevents",-1),fn=n("code",null,"Linux",-1),qn=n("code",null,"fsevents",-1),yn=n("ul",null,[n("li",null,[n("p",null,[n("code",null,"npm/pnpm install --no-optional")])]),n("li",null,[n("p",null,[n("code",null,"yarn install --ignore-optional")])])],-1),jn=n("h3",{id:"bundledependencies",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bundledependencies","aria-hidden":"true"},"#"),s(" bundleDependencies")],-1),xn=n("code",null,"Array<string>",-1),wn={href:"https://docs.npmjs.com/cli/v8/commands/npm-pack",target:"_blank",rel:"noopener noreferrer"},Dn=o(`<h2 id="overrides" tabindex="-1"><a class="header-anchor" href="#overrides" aria-hidden="true">#</a> overrides</h2><p>针对特定依赖项进行按需重写，支持嵌套、限定范围</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token property">&quot;baz&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="types" tabindex="-1"><a class="header-anchor" href="#types" aria-hidden="true">#</a> types</h2><p>声明此项目的 <code>TypeScript</code> 类型文件</p><h2 id="main" tabindex="-1"><a class="header-anchor" href="#main" aria-hidden="true">#</a> main</h2><h2 id="browser" tabindex="-1"><a class="header-anchor" href="#browser" aria-hidden="true">#</a> browser</h2><h2 id="module" tabindex="-1"><a class="header-anchor" href="#module" aria-hidden="true">#</a> module</h2><h2 id="exports" tabindex="-1"><a class="header-anchor" href="#exports" aria-hidden="true">#</a> exports</h2>`,9),In={class:"custom-container tip"},Cn=n("p",{class:"custom-container-title"},"TIP",-1),Nn={href:"https://nodejs.org/api/packages.html?spm=ata.21736010.0.0.3d314bfcjrqivI#packages_package_entry_points",target:"_blank",rel:"noopener noreferrer"},Sn=n("h2",{id:"workspaces",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#workspaces","aria-hidden":"true"},"#"),s(" workspaces")],-1),Mn=n("h2",{id:"config",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#config","aria-hidden":"true"},"#"),s(" config")],-1),Pn={href:"https://nodejs.org/api/process.html#processenv",target:"_blank",rel:"noopener noreferrer"},Tn=n("wbr",null,null,-1),An=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token hashbang comment"},"#!/usr/bin/env node"),s(`

console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_port"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// 8080"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),s("npm_package_config_foo"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// bar"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Bn=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"scripts"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"variable"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"node main.js"'),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"config"'),n("span",{class:"token operator"},":"),s("　"),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"port"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"8080"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"foo"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"bar"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),On=n("h2",{id:"publishconfig",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#publishconfig","aria-hidden":"true"},"#"),s(" publishConfig")],-1),Ln={href:"https://docs.npmjs.com/cli/v8/using-npm/config",target:"_blank",rel:"noopener noreferrer"},Vn=o(`<h2 id="engines" tabindex="-1"><a class="header-anchor" href="#engines" aria-hidden="true">#</a> engines</h2><ul><li>指明项目所需 <code>node</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=14&quot;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>指明安装包所需 <code>npm</code> 版本</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;npm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~5.2.0&quot;</span> <span class="token comment">// npx version</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="os" tabindex="-1"><a class="header-anchor" href="#os" aria-hidden="true">#</a> os</h2>`,6),zn=n("code",null,"Array<string>",-1),En={href:"https://nodejs.org/api/process.html#processplatform",target:"_blank",rel:"noopener noreferrer"},Gn=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu" aria-hidden="true">#</a> cpu</h2>`,2),Rn=n("code",null,"Array<string>",-1),$n={href:"https://nodejs.org/api/process.html#processarch",target:"_blank",rel:"noopener noreferrer"},Fn=o(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span>
  <span class="token comment">// or</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function Hn(Un,Xn){const a=i("ExternalLinkIcon"),c=i("Badge"),p=i("CodeGroupItem"),r=i("CodeGroup");return d(),u("div",null,[k,m,n("p",null,[s("项目名称，发布到 "),n("a",v,[s("npm"),e(a)]),s(" 中的唯一标识")]),b,n("p",null,[g,s(" 指明包私有，避免被 "),n("a",_,[s("npm publish"),e(a)]),s(" 发布")]),f,n("p",null,[s("版本号，遵循 "),n("a",q,[s("语义化版本号"),e(a)]),s("，使用 "),n("a",y,[s("npm version"),e(a)]),s(" 管理")]),j,n("p",null,[s("一般是 issue 地址。存在时可以通过 "),n("a",x,[s("npm bugs"),e(a)]),s(" 打开对应地址")]),w,n("ul",null,[n("li",null,[D,s(),e(c,null,{default:t(()=>[s("recommend")]),_:1})]),I]),n("p",null,[s("参阅 "),n("a",C,[s("https://spdx.org/licenses/"),e(a)])]),N,n("p",null,[S,s(" 表明包使用的模块语法（ "),M,s(" 以上版本支持 "),n("a",P,[s("ESM"),e(a)]),s("）")]),T,n("p",null,[s("特殊的 "),A,s(" 、 "),B,s(" 见 "),n("a",O,[s("scripts 文档"),e(a)])]),n("div",L,[V,z,n("ul",null,[n("li",null,[n("p",null,[n("a",E,[s("yarn2 Lifecycle Scripts"),e(a)])])]),n("li",null,[n("p",null,[n("a",G,[s("preinstall phase is executed after install phase "),e(a)])])])]),n("p",null,[s("为此 pnpm 提供了 "),n("a",R,[s("pnpm:devPreinstall"),e(a)]),s(" 钩子以兼容开发者的使用习惯")])]),$,F,n("p",null,[s("脚本文件一般在文件头以 "),n("a",H,[s("SheBang"),e(a)]),s(" 声明运行脚本的语言")]),e(r,null,{default:t(()=>[e(p,{title:"bash"},{default:t(()=>[U]),_:1}),e(p,{title:"script"},{default:t(()=>[X]),_:1}),e(p,{title:"package.json"},{default:t(()=>[J]),_:1}),e(p,{title:"directory structure"},{default:t(()=>[K]),_:1})]),_:1}),Q,W,n("p",null,[s("常见依赖包版本遵循 "),n("a",Y,[s("语义化版本号"),e(a)]),s("，并根据声明语法供 "),n("a",Z,[s("lockfile"),e(a)]),s(" 匹配：")]),nn,n("p",null,[s("其余版本范围参阅文档 "),n("a",sn,[s("dependencies"),e(a)])]),n("p",null,[s("通过 "),n("a",en,[s("npm link"),e(a)]),s(" 等生成的本地包路径参阅 "),n("a",an,[s("local-path 文档"),e(a)])]),on,n("p",null,[s("比如 "),n("a",tn,[s("vue-router"),e(a)]),s(" 或 "),n("a",pn,[s("vuex"),e(a)]),s(" 都是基于 "),n("a",rn,[s("vue@2.x"),e(a)]),s(" 的响应式 API 构建的依赖库（插件），但在构建 "),cn,s(" 、 "),ln,s(" 产物时，作者并不想将 "),dn,s(" 包含进去，即可将 "),un,s(" 声明为 "),hn,s(" .")]),kn,n("div",mn,[vn,n("p",null,[s("比如在使用 "),n("a",bn,[s("chokidar"),e(a)]),s(" 在 "),gn,s(" 系统使用原生的 "),_n,s(" 进行文件监听处理，但在 "),fn,s(" (主要是 mac) 上安装此依赖时经常出现 "),qn,s(" 相关的报错信息。此时可以添加参数忽略此依赖进行安装：")]),yn]),jn,n("p",null,[xn,s(" 捆绑依赖项，可通过 "),n("a",wn,[s("npm pack"),e(a)]),s(" 将声明的捆绑依赖打包进项目压缩包中")]),Dn,n("div",In,[Cn,n("p",null,[n("a",Nn,[s("Package entry points"),e(a)])])]),Sn,Mn,n("p",null,[n("a",Pn,[s("p"),Tn,s("rocess.env"),e(a)]),s(" 配置命令行的环境变量")]),e(r,null,{default:t(()=>[e(p,{title:"main.js"},{default:t(()=>[An]),_:1}),e(p,{title:"package.json"},{default:t(()=>[Bn]),_:1})]),_:1}),On,n("p",null,[s("发布配置，详见"),n("a",Ln,[s("config | npm Docs"),e(a)])]),Vn,n("p",null,[zn,s(" 基于 "),n("a",En,[s("process.platform"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),Gn,n("p",null,[Rn,s(" 基于 "),n("a",$n,[s("process.arch"),e(a)]),s(" 运行项目的操作系统黑白名单：")]),Fn])}const Kn=l(h,[["render",Hn],["__file","pkg.html.vue"]]);export{Kn as default};
