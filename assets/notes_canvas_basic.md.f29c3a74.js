import{_ as l,c as e,a,b as s,d as o,w as p,e as t,r as c,o as r}from"./app.c1b4a40c.js";const _=JSON.parse('{"title":"Canvas 2d","description":"","frontmatter":{},"headers":[{"level":2,"title":"Basic","slug":"basic","link":"#basic","children":[{"level":3,"title":"canvas 元素","slug":"canvas-元素","link":"#canvas-元素","children":[]},{"level":3,"title":"渲染上下文","slug":"渲染上下文","link":"#渲染上下文","children":[]},{"level":3,"title":"基于网格的坐标空间","slug":"基于网格的坐标空间","link":"#基于网格的坐标空间","children":[]}]},{"level":2,"title":"Canvas API","slug":"canvas-api","link":"#canvas-api","children":[]}],"relativePath":"notes/canvas/basic.md","lastUpdated":1680931489000}'),B={name:"notes/canvas/basic.md"},i={id:"canvas-2d",tabindex:"-1"},d=a("a",{class:"header-anchor",href:"#canvas-2d","aria-hidden":"true"},"#",-1),y=t(`<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="noreferrer">Canvas | MDN</a> 笔记</p><h2 id="basic" tabindex="-1">Basic <a class="header-anchor" href="#basic" aria-hidden="true">#</a></h2><h3 id="canvas-元素" tabindex="-1">canvas 元素 <a class="header-anchor" href="#canvas-元素" aria-hidden="true">#</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas" target="_blank" rel="noreferrer">&lt;canvas&gt;</a> HTML 元素用于创建一个用户指定尺寸大小的画布，供 JavaScript 绘制图形、动画等:</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement" target="_blank" rel="noreferrer">DOM properties</a></li></ul><ol><li><p><code>canvas</code> 标签常用 <code>width</code>、<code>height</code> 属性作为初始画布比例，当未设置宽度和高度时，默认为 <code>width: 300px; height: 150px;</code></p></li><li><p><code>canvas</code> 标签包裹内容仅在不受支持的浏览器(<strong>&lt;IE9</strong>)显示，可作为后备内容降级渲染</p></li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;300&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;150&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">&lt;!-- only shown in unsupported browsers --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">img</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">src</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;placeholder.png&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;300&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;150&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li><code>canvas</code> 标签非 <a href="https://developer.mozilla.org/en-US/docs/Glossary/Void_element#self-closing_tags" target="_blank" rel="noreferrer">单闭合标签</a>，若书写时未正确设置结束标签 <code>&lt;/canvas&gt;</code>，将导致后续全部内容被视为后备内容。</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">/</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;anything here&lt;/</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- same as --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;anything here&lt;/</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre></div><ul><li>当同时设置 <code>canvas</code> 标签的宽高属性与 CSS 样式时，若 CSS 的尺寸与初始画布的比例不一致，画布可能会出现扭曲。</li></ul></div><h3 id="渲染上下文" tabindex="-1">渲染上下文 <a class="header-anchor" href="#渲染上下文" aria-hidden="true">#</a></h3><p>拥有了 <code>canvas</code> 标签创建的画布，想要使用 JavaScript 进行绘制，就需要使用 <code>canvas</code> 元素属性方法 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext" target="_blank" rel="noreferrer">getContext()</a> 获取该画布的渲染上下文及其绘画功能：<a href="#canvas-api">Canvas API</a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getElementById</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;canvas&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;2d&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>在不受支持的浏览器中，<code>getContext()</code> 将返回 <code>null</code>，因此可作为兼容性判断</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro" tabindex="0"><code><span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">ctx</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * alert message</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * Your browser has expired. Update your browser so that</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * you can get best experience on this website</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre></div></div><h3 id="基于网格的坐标空间" tabindex="-1">基于网格的坐标空间 <a class="header-anchor" href="#基于网格的坐标空间" aria-hidden="true">#</a></h3><p><code>canvas</code> 元素默认为网格结构，每个网格单元即为 <code>canvas</code> 元素中的一像素，默认以左上角坐标 <code>[0, 0]</code> 作为画布原点，当绘制元素时，所有元素位置均是相对于原点定位。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getElementById</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;canvas&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;2d&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillRect</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre></div><img class="d-img__center" src="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes/canvas_default_grid.png" alt="canvas_default_grid"><h2 id="canvas-api" tabindex="-1">Canvas API <a class="header-anchor" href="#canvas-api" aria-hidden="true">#</a></h2>`,17);function h(A,F,v,g,C,u){const n=c("Badge");return r(),e("div",null,[a("h1",i,[s("Canvas "),o(n,null,{default:p(()=>[s("2d")]),_:1}),s(),d]),y])}const E=l(B,[["render",h]]);export{_ as __pageData,E as default};
